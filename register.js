function registerUser() {
    let phone = document.getElementById("phone").value.trim();
    let password = document.getElementById("password").value.trim();
    let confirmPassword = document.getElementById("confirmPassword").value.trim();
    let withdrawPin = document.getElementById("withdrawPin").value.trim();
    let inviteCode = document.getElementById("inviteCode").value.trim();

    if (phone.length !== 11 || !phone.startsWith("01")) {
        alert("‡¶∏‡¶†‡¶ø‡¶ï ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶¶‡¶ø‡¶®");
        return;
    }

    if (password !== confirmPassword) {
        alert("‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶Æ‡¶ø‡¶≤‡¶õ‡ßá ‡¶®‡¶æ");
        return;
    }

    if (withdrawPin.length !== 4) {
        alert("‡ß™ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶™‡¶ø‡¶® ‡¶¶‡¶ø‡¶®");
        return;
    }

    // üî¥ IMPORTANT CHECK
    if (localStorage.getItem(phone)) {
        alert("‡¶è‡¶á ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞‡ßá ‡¶Ü‡¶ó‡ßá‡¶á ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶Ü‡¶õ‡ßá");
        return;
    }

    let user = {
        phone: phone,
        password: password,
        withdrawPin: withdrawPin,
        invite: inviteCode || "NO-REF",
        balance: 0,
        transactions: []
    };

    // ‚úÖ ‡¶è‡¶ñ‡¶æ‡¶®‡ßá‡¶á ‡¶∏‡ßá‡¶≠ ‡¶π‡¶ö‡ßç‡¶õ‡ßá
    localStorage.setItem(phone, JSON.stringify(user));

    alert("‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶∏‡¶´‡¶≤");
    window.location.href = "login.html";
}
